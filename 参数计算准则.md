## 用于Pearson相关系数热力图中的参数如下：

$b$

$h$

$r_0$

$t$

$R$

$f_y$

$f_c$

$L$

$e_1$

$e_2$

$N_{exp}$

$r_0/h$

$A_c$

$A_s$

$R_e$

$t_e$

$k_e$

$\xi$

$\sigma_{re}$

$\lambda$

$\bar{\lambda}$

$b/t$

$e/h$

$\bar{e}$

$e_1/e_2$



### 一、 基础输入参数 (11项)

这些参数直接作为已知条件输入，无需公式计算：

1. **$b$**：截面宽度 ($mm$)，定义为 $b \ge h$ 1。
2. **$h$**：截面深度 ($mm$) 2。
3. **$r_0$**：钢管外圆角半径 ($mm$) 3。
4. **$t$**：钢管壁厚 ($mm$) 4。
5. **$R$**：再生粗骨料取代率 ($\%$) 5。
6. **$f_y$**：钢材屈服强度 ($MPa$) 6。
7. **$f_c$**：混凝土抗压强度 ($MPa$) 7。
8. **$L$**：CFST构件长度 ($mm$) 8。
9. **$e_1$**：上端偏心距 ($mm$) 9。
10. **$e_2$**：下端偏心距 ($mm$) 10。
11. **$N_{exp}$**：极限承载力试验值 ($kN$) 11。

------

### 二、 几何与等效参数 (6项)

基于“典型截面（Typical Form）”几何描述与“面积守恒原则”推导。

**辅助变量定义：**

- 内圆角半径：$r_1 = \frac{h - 2t}{h} r_0$ （注：若 $r_0=0$，则 $r_1=0$）
- 角径比 ($r_0/h$)

描述截面形状的连续变量：

$$r_0/h$$

13. 径厚比 ($b/t$)

$$b/t$$

14. 等效核心混凝土面积 ($A_c$)

$$A_c = (b-2t)(h-2t) - (4-\pi)r_1^2$$

15. 等效钢管面积 ($A_s$)

$$A_s = 2t(b+h-4t) + (4-\pi)(r_0^2 - r_1^2)$$

16. 等效混凝土半径 ($R_e$)

基于面积守恒原则，将任意截面转化为圆形的等效半径：

$$R_e = \sqrt{\frac{A_c}{\pi}}$$

17. 等效钢管厚度 ($t_e$)

$$t_e = \sqrt{\frac{A_c + A_s}{\pi}} - R_e$$

18

------

### 三、 核心约束与材料参数 (3项)

用于量化钢管对混凝土的约束效应及材料复合强度。

18. 约束有效性系数 ($k_e$)

反映非圆形截面中约束不均匀性的物理量（角部强，边部弱）。

$$k_e = 1 - \frac{\tan\alpha(b-2r_1-2t)^2 + \tan\beta(h-2r_1-2t)^2}{3A_c}$$

*其中，几何形状因子的切线斜率为：*

- $\tan\alpha = \frac{h-2t}{b-2r_1-2t}$ 20
- $\tan\beta = \frac{b-2t}{h-2r_1-2t}$ 21

19.套箍系数 ($\xi$)

$$\xi = \frac{A_s f_y}{A_c f_c}$$

20. 有效侧向应力 ($\sigma_{re}$)

$$\sigma_{re} = k_e \cdot \frac{t_e}{R_e} f_y$$

------

### 四、 整体稳定性参数 (2项)

21. 长细比 ($\lambda$)

$$\lambda = \frac{L}{r}$$

24

注：$r$ 为回转半径 $r = \sqrt{I/A}$，$I$ 为组合截面惯性矩。

22. 相对长细比 ($\bar{\lambda}$)

$$\bar{\lambda} = \sqrt{\frac{N_{pl}}{N_{cr}}}$$

- 全截面塑性承载力：$N_{pl} = A_s f_y + A_c f_c$ 26

- 弹性临界屈曲荷载：$N_{cr} = \frac{\pi^2 (E_s I_s + 0.6 E_c I_c)}{L^2}$ 

  - **$E_s = 206,000$ MPa** 

    **$E_c = 4700 \sqrt{f_c}$** (直接利用给定的圆柱体强度计算)。

  - $I_s, I_c$：分别为钢管和混凝土截面的惯性矩。

------

### 五、 偏心受压参数 (3项)

用于描述压弯耦合效应。

**辅助变量定义：**

- 最大偏心距：$e = \max(|e_1|, |e_2|)$ 
- 最大偏心率 ($e/h$)

几何偏心指标：

$$e/h$$

24. 偏心比率 ($e_1/e_2$)

$$e_1/e_2$$

25. 相对偏心率 ($\bar{e}$)

$$\bar{e} = e \cdot \frac{A}{W}$$

- $A$：组合截面总面积 ($A = A_c + A_s$)。
- $W$：组合截面在弯曲方向的截面模量 。



惯性矩计算如下：

### 1. 数学验算公式 (Mathematical Formulas)

我们采用**组合法**（叠加法）计算任意圆角矩形截面的弱轴惯性矩 $I_x$。假设计算对象的宽为 $B$，高为 $H$，圆角半径为 $R$。

#### **第一步：确定几何参数**

- **外轮廓 (Gross)**: $B = b, \quad H = h, \quad R = r_0$
- **核心混凝土 (Core)**: $B_c = b-2t, \quad H_c = h-2t, \quad R_c = r_1$
  - *注意 $r_1$ 必须用论文回归公式计算：* $r_1 = \frac{h-2t}{h} r_0$

#### **第二步：通用惯性矩公式 $I_x(B, H, R)$**

将圆角矩形分解为三个部分：

1. **中间矩形 (Central Web)**

   - 尺寸：宽 $B$，高 $H - 2R$

   - 贡献：

     

     $$I_1 = \frac{B \cdot (H - 2R)^3}{12}$$

2. **上下翼缘矩形 (Flanges)**

   - 这部分是指扣除圆角后，上下剩余的矩形条。

   - 尺寸：宽 $B - 2R$，高 $R$（共两个，分别位于顶部和底部）

   - 单块面积 $A_2 = (B - 2R)R$，形心距离整体中心距离 $y_2 = \frac{H - R}{2}$

   - 贡献（利用平行轴定理）：

     

     $$I_2 = 2 \times \left[ \frac{(B - 2R)R^3}{12} + (B - 2R)R \cdot \left( \frac{H - R}{2} \right)^2 \right]$$

3. **四个角 (Corners)**

   - 形状：4个半径为 $R$ 的 $1/4$ 圆。

   - 单块面积 $A_q = \frac{\pi R^2}{4}$

   - 单块自身形心轴惯性矩（相对于自身的水平形心轴）：

     

     $$I_{qc} = \left( \frac{\pi}{16} - \frac{4}{9\pi} \right) R^4 \approx 0.05488 R^4$$

   - 形心距离整体中心距离 $y_3$：

     

     $$y_3 = \left( \frac{H}{2} - R \right) + \frac{4R}{3\pi}$$

   - 贡献（利用平行轴定理）：

     

     $$I_3 = 4 \times \left[ I_{qc} + A_q \cdot y_3^2 \right]$$

总惯性矩：



$$I_{total} = I_1 + I_2 + I_3$$

#### **第三步：计算最终结果**

- **混凝土弱轴惯性矩**：$I_c = I_x(b-2t, h-2t, r_1)$
- **钢管弱轴惯性矩**：$I_s = I_x(b, h, r_0) - I_c$

------

### 2. Python 代码实现

这段代码完全对应上述数学公式，你可以直接用于你的机器学习特征工程。

Python

```
import numpy as np

def calculate_Ix_weak_axis(B, H, R):
    """
    计算圆角矩形绕弱轴(水平X轴)的惯性矩
    公式对应上述数学推导
    """
    # 物理约束：圆角半径不能超过短边的一半
    R = min(R, min(B, H) / 2.0)
    
    # 特例：如果是纯矩形 (R=0)
    if R <= 0:
        return (B * H**3) / 12.0
    
    # Part 1: 中间矩形 (Central Web)
    # 宽 B, 高 H-2R
    I1 = (B * (H - 2*R)**3) / 12.0
    
    # Part 2: 上下翼缘矩形 (Flanges)
    # 宽 B-2R, 高 R
    w_f = B - 2*R
    h_f = R
    Area_f = w_f * h_f
    y_f = (H - R) / 2.0  # 形心到整体中心的距离
    # I = I_local + A * d^2
    I2 = 2 * ( (w_f * h_f**3)/12.0 + Area_f * y_f**2 )
    
    # Part 3: 四个角 (Corners - 1/4 circles)
    # 几何常数
    Area_q = (np.pi * R**2) / 4.0
    c_q = (4 * R) / (3 * np.pi)  # 1/4圆心到直边的距离
    
    # 1/4圆关于自身形心轴的 I
    # I_base = pi*R^4/16 (关于底边)
    # I_centroid = I_base - A * c^2
    I_base = (np.pi * R**4) / 16.0
    I_q_centroid = I_base - Area_q * c_q**2
    
    # 移轴到整体中心
    # 距离 = (半高 - 半径) + 局部形心距
    y_3 = (H / 2.0 - R) + c_q
    
    I3 = 4 * (I_q_centroid + Area_q * y_3**2)
    
    return I1 + I2 + I3

def get_cfst_weak_axis_inertias(b, h, t, r0):
    """
    计算 CFST 弱轴惯性矩 (b >= h)
    返回: I_c (混凝土), I_s (钢管)
    """
    # 1. 计算内圆角半径 r1 (基于论文公式 Eq.5)
    if h > 0:
        r1 = ((h - 2 * t) / h) * r0
    else:
        r1 = 0
    
    # 2. 计算混凝土惯性矩 Ic
    # 混凝土尺寸: b-2t, h-2t, r1
    Ic = calculate_Ix_weak_axis(b - 2*t, h - 2*t, r1)
    
    # 3. 计算整体外轮廓惯性矩 Igross
    # 整体尺寸: b, h, r0
    Igross = calculate_Ix_weak_axis(b, h, r0)
    
    # 4. 计算钢管惯性矩 Is
    Is = Igross - Ic
    
    return Ic, Is

# --- 验算示例 ---
# 假设参数 (单位 mm)
b_input = 300.0
h_input = 150.0  # b >= h
t_input = 6.0
r0_input = 75.0  # 圆端形 r0 = h/2

Ic_val, Is_val = get_cfst_weak_axis_inertias(b_input, h_input, t_input, r0_input)

print(f"输入参数: b={b_input}, h={h_input}, t={t_input}, r0={r0_input}")
print("-" * 30)
print(f"Ic (混凝土弱轴惯性矩): {Ic_val:.4e} mm^4")
print(f"Is (钢管弱轴惯性矩):   {Is_val:.4e} mm^4")
print("-" * 30)
print(f"Itotal (整体弱轴惯性矩): {Ic_val + Is_val:.4e} mm^4")
```